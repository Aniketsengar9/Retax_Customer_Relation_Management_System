<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style/leads.css" />
</head>

<body>
    <div class="container">
        <nav id="navbar">
            <div class="nav-child">
                <h1 id="logo">Retax</h1>
                <input type="text" name="search" id="search" placeholder="Search" />

                <div class="link-div">
                    <img class="nav-icon" src="/images/dashboard.png" alt="pic" />
                    <a class="links" id="dashboard" href="./index.html">Dashboard</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/task.png" alt="pic" />
                    <a class="links" id="task" href="#">Task</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/calendar.png" alt="pic" />
                    <a class="links" id="calender" href="./calender.html">Calender</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/employees.png" alt="pic" />
                    <a class="links" id="employees" href="#">Employees</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/customer.png" alt="pic" />
                    <a class="links" id="customers" href="#">Customers</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/cases.png" alt="pic" />
                    <a class="links" id="cases" href="#">Cases</a>
                </div>

                <div class="link-div">
                    <img class="nav-icon" src="/images/leads.png" alt="pic" />
                    <a class="links my-link" id="lead" href="#">Leads</a>
                </div>

                <!--Setting logout -->

                <div class="bottom-nav">
                    <hr />
                    <br>
                    <div class="link-div">
                        <img class="nav-icon" src="/images/setting.png" alt="pic" />
                        <a class="links" id="setting" href="google.com">Setting</a>
                    </div>

                    <div class="link-div">
                        <img class="nav-icon" src="/images/help.png" alt="pic" />
                        <a class="links" id="help" href="#">Help</a>
                    </div>
                    <br>
                    <hr />
                    <br>
                    <div class="link-div">
                        <img class="nav-icon" src="/images/logout.png" alt="pic" />
                        <a class="links" id="logout" href="#">Logout</a>
                    </div>
                    <br>
                </div>
            </div>
        </nav>



        <!-- Dashboard and data div-->

        <div id="Leads">
            <div id="button-div">
                <h1>Leads</h1>
                <button id="add-Employee">Add an Employee</button>
            </div>
            <hr>
            <!-- <h2>Key indicators</h2>
            <div id="key-indicators">
                
                <div id="successful-case">
                    <p>Successful-Case</p>
                    <h1 id="successful-case-data">145</h1>
                </div>
                <div id="leads">
                    <p>Leads</p>
                    <h1 id="leads-data">215</h1>
                </div>
                <div id="request">
                    <p>Request</p>
                    <h1 id="request-data">345</h1>
                </div>
                <div id="new-customer">
                    <p>New Customer</p>
                    <h1 id="new-customer-data">458</h1>
                </div>
            </div>

            <hr>

            <br>
            <div id="graph-section">
                <div id="graph">
                    <h2>Case</h2>
                </div>
                <div id="percentage">
                    <h2>Performance</h2>
                </div>
            </div> -->

            <div id="short-nav">
                <div id="short-nav-left">
                    <div>
                        <input type="text" placeholder="Search" id="searching" />
                    </div>
                    <div>
                        <button class="buttons">Status</button>
                    </div>
                    <div>
                        <button class="buttons">Assignee</button>
                    </div>
                    <div>
                        <button class="buttons">Created at</button>
                    </div>
                </div>
            </div>
            <hr>

            <table>
                <thead>
                    <tr>
                        <th>Customer Name</th>
                        <th>Lead ID</th>
                        <th>Status</th>
                        <th>Phone Number</th>
                        <th>Month Of Join</th>
                        <th>Post</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Append lead data here  -->
                </tbody>
            </table>

        </div>


</body>

<script>
    //      let data;
    //   async function FetchData(){
    //      try{
    //         let res = await fetch("https://645513a1f803f3457639b88a.mockapi.io/LeadData");
    //         res = await res.json();

    //         data = res.data
    //         console.log(data)

    //         displaydata(data);
    //      }
    //      catch(error){
    //          console.log(error)

    //      }
    //   }

    //   FetchData();


    let data = [];
    let tbody = document.querySelector("tbody");
    let link = "https://645513a1f803f3457639b88a.mockapi.io/LeadData";
    let currentPage = 1;
    let rowsPerPage = 10;

    window.addEventListener("load", function () {
        fetchData();
    })

    function fetchData() {
        fetch(link)
            .then(function (res) {
                return res.json();
            })
            .then(function (res) {
                data = res;
                console.log(data);
                displaydata(data)

            })
    }



                let tabody = document.querySelector("tbody");

                function displaydata(data) {

                    tabody.innerHTML = "";
                    data.forEach(function (ele) {
                    
                        let tr = document.createElement("tr");

                        let td1 = document.createElement("td");
                        td1.innerText = ele.CustomerName;
                        let td2 = document.createElement("td");
                        td2.innerText = ele.LeadID;
                        let td3 = document.createElement("td");
                        td3.innerText = ele.Status;
                        let td4 = document.createElement("td");
                        td4.innerText = ele.PhoneNumber;
                        let td5 = document.createElement("td");
                        td5.innerText = ele.DateOfJoin;
                        let td6 = document.createElement("td");
                        td6.innerText = ele.Post;

                        tr.append(td1, td2, td3, td4, td5, td6);
                        tabody.append(tr);
                        
                    })
                }


                 

</script>

    


</html>